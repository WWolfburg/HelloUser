<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Member List</h1>
    
   
    <div th:if="${#lists.isEmpty(members)}">
        <p>No members in the list.</p>
        <p><a th:href="@{/add-member}">Add your first new member</a></p>
    </div>
    

    <ul th:if="${!#lists.isEmpty(members)}">
        <li th:id="${members.id}" th:each="members : ${members}">
            <div th:id="${members.FnLname}">

                <span th:text="${members.name}">Name</span>
                <span th:text="${members.Lname}">Last Name</span>
                
                
                <!-- Temporary GET link for testing -->
                <a th:if="${isAdmin}" 
                   th:href="@{/delete-member-get/{memberId}(memberId=${members.id})}"
                   onclick="return confirm('Are you sure you want to delete this member?')"
                   style="color: red; text-decoration: none; margin-left: 10px;">[X]</a>

            </div>
                

            <ul>
                    
                    <span th:text="${members.email}">Email</span><br><br>
                    <span th:text="${members.PhoneNumber}">Phone Number</span><br><br>
                
            </ul>
        </li>
    </ul>
    
    <div style="margin-top: 20px;">
        <a th:href="@{/home}">Home</a>
        
       
        <span th:if="${isAdmin}">
            | <a th:href="@{/add-member}">Add Member</a>
            | <a th:href="@{/logout}">Logout</a>
        </span>
        
     
        <span th:if="${!isAdmin}">
            | <a th:href="@{/login}">Admin Login</a>
        </span>
    </div>
</body>
</html>